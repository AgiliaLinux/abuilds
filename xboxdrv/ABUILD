# ABUILD generated by mkpkg_generator.sh

pkgname=xboxdrv
pkgver=0.8.5
pkgbuild=1
arch=("auto")

shortdesc=("An XBox/XBox 360 gamepad driver - as alternative to the xpad-kernel module - with more configurability, runs in userspace and supports a multitude of controllers")
tags=("utils games-util")
source=("http://pingus.seul.org/~grumbel/xboxdrv/$pkgname-linux-$pkgver.tar.bz2")
build_deps="libX11 dbus-glib libusb1 scons boost pkg-config libusb"
adddeps="python-dbus"

build() {
  go_src_dir
  cd "$srcdir/$pkgname-linux-$pkgver"
  scons $MAKEFLAGS
}

after_build() {
  go_src_dir
  make install PREFIX=/usr MANDIR=/usr/man DESTDIR="$pkgdir"
  install -D -m755 "$filedir/xboxdrv.initd" "$pkgdir/etc/init.d/xboxdrv"
  install -D -m644 "$filedir/xboxdrv.confd" "$pkgdir/etc/conf.d/xboxdrv"
}
