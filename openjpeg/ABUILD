# ABUILD generated by mkpkg_generator.sh

pkgname=openjpeg
pkgver=2.0.0
pkgbuild=1
arch=("auto")
shortdesc=("An open source JPEG 2000 codec")
tags=("libs media-libs")
build_deps="zlib cmake"
source=("http://openjpeg.googlecode.com/files/openjpeg-${pkgver}.tar.gz")

BUILD_SYSTEM="cmake"
BUILD_KEYS="-DCMAKE_INSTALL_PREFIX=/usr \
-DCMAKE_BUILD_TYPE=Release \
-DDOCDIR=/usr/doc/${pkgname}-${pkgver} \
-DLIB_DIR=lib${LIBDIRSUFFIX} \
-DLIB_SUFFIX=${LIBDIRSUFFIX} \
../"

after_build() {
    (cd "$pkgdir/usr/include"; ln -s openjpeg-2.0/openjpeg.h openjpeg.h)
    (cd "$pkgdir/usr/lib${LIBDIRSUFFIX}/pkgconfig/"; ln -s libopenjpeg2.pc libopenjpeg.pc )
}