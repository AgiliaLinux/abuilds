# ABUILD generated by spkg2abuild converter from cloog-ppl-0.15.7-2.spkg

# Package metadata
pkgname=cloog-parma
pkgver=0.16.1
pkgbuild=1
arch="auto"

# Package description
shortdesc=("The Chunky Loop Generator (ppl version)")
longdesc=("CLooG is a software which generates loops for scanning Z-polyhedra. That is, CLooG finds the code or pseudo-code where each integral point of one or more parametrized polyhedron or parametrized polyhedra union is reached. CLooG is designed to avoid control overhead and to produce a very efficient code.")

# Source URL
source=("ftp://gcc.gnu.org/pub/gcc/infrastructure/${pkgname}-${pkgver}.tar.gz")

# Tags
tags="develop sys-devel"
build_deps="automake autoconf libtool"
conflicts="cloog-ppl"
provides="cloog"

# Build system
BUILD_SYSTEM="autotools"
BUILD_KEYS="--prefix=/usr \
--bindir=/usr/bin \
--sbindir=/usr/sbin \
--libexecdir=/usr/libexec \
--includedir=/usr/include \
--mandir=/usr/man \
--infodir=/usr/info \
--libdir=/usr/lib${LIBDIRSUFFIX} \
--sysconfdir=/etc \
--localstatedir=/var \
--with-bits=gmp \
--with-ppl=/usr"

# Before-build script
before_build() {
  go_src_dir
  # "Add" ppl-0.11 compatibility
  sed -i "/ppl_minor_version=/s#10#11#" configure
}

